% !TEX root = main.tex
\begin{algorithm}[H]
\small
\KwData{\LTL formula $\varphi$ and state $\state_j$}
\KwResult{a verdict from $\mathbb{B}_3$}
%$j = 0$\;
%\While{\rm there is a new state $s_j$}{
Let $\sample_i^{s_j}$ be the initial concrete local state of the monitor    \;  \label{line:init4}
$\LS_i^{\state_j} \gets$ $\sample_i^{s_j}$\tcc*[r]{\it take sample from state $s_j$}
\label{line:sample4} 
\For{\rm some fixed number of rounds $r \geqslant 1$}{
$\SM_i^{\state_j} \gets \pred(\LS_i^{\state_j})$\tcc*[r]{\it write current knowledge in shared memory} \label{line:write4} 
$\LS_i^{\state_j} \gets$ $\SM^{\state_j}$\tcc*[r]{\it take a snapshot of the shared memory}
} \label{line:snapshot4}
emit {$[\extr(\LS_i^{\state_j})\dots\extr(\LS_i^{\state_j})\models_4 
\varphi$}]\tcc*[r]{\it evaluate $\varphi$ using extrapolation function} 
%\label{line:emit}
%$j \gets j + 1$\;}
\caption{Behavior of Monitor $M_i$, for $i\in [1, n]$}
\label{alg:localmonalgo4}
 \end{algorithm}

